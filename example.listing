     1                                  segment .data;
     2                                  
     3 00000000 04                      main_len db 4
     4 00000001 08                      subr_len db 8
     5                                  
     6                                  segment .bss;
     7                                  
     8 00000000 <res 00000004>          a resd 1
     9                                  
    10                                  segment .text;
    11                                  
    12                                   GLOBAL main
    13                                  
    14                                  main:
    15                                   %define b edx
    16 00000000 55                       PUSH EBP
    17 00000001 89E5                     MOV EBP,ESP
    18 00000003 81EC[00000000]           SUB ESP,main_len
    19 00000009 B802000000               MOV EAX,2
    20 0000000E 0302                     ADD EAX,[b]
    21 00000010 A3[00000000]             MOV [a],EAX
    22 00000015 89EC                     MOV ESP,EBP
    23 00000017 C3                       RET 
    24                                   GLOBAL subr
    25                                  
    26                                  subr:
    27                                   %define b eax
    28                                   %define c eax
    29                                   %define d eax
    30 00000018 0300                     ADD EAX,[b]
    31                                  
    32 0000001A 55                       PUSH EBP
    33 0000001B 89E5                     MOV EBP,ESP
    34 0000001D 81EC[01000000]           SUB ESP,subr_len
    35 00000023 A1[00000000]             MOV EAX, [a]
    36 00000028 8900                     MOV [c],EAX
    37 0000002A C705[00000000]0200-      MOV DWORD [a],2
    37 00000032 0000               
    38 00000034 8B00                     MOV EAX, [b]
    39 00000036 2B00                     SUB EAX,[c]
    40 00000038 A3[00000000]             MOV [a],EAX
    41 0000003D 8B00                     MOV EAX, [b]
    42 0000003F 2B05[00000000]           SUB EAX,[a]
    43 00000045 2B00                     SUB EAX,[c]
    44 00000047 A3[00000000]             MOV [a],EAX
    45 0000004C 89EC                     MOV ESP,EBP
    46 0000004E C3                       RET 
    47                                  
    48                                  ;(B (GVARDEF a ) (FUNCDEF main (FHEADER (FPARAM b )) (BLOCK (DECLSTAT (LVARDEF a ) (MOV (VAR a)(ADD (INT 2)(VAR b)) ) ) ) ) (FUNCDEF subr (FHEADER (FPARAM c )(FPARAM g )) (BLOCK (DECLSTAT (LVARDEF b ) (LVARDEF c ) (
